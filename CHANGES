Changes
=======

The highlighted changes are shown for the following production releases. Each
release will have included many additional new features and improvements.

You can view the differences in tagged versions as follows:

  git log --pretty=format:"%Cblue%h %Cgreen%cn %Cred(%cr) %Creset%s %n%b %N" --graph "v0.3.2..v0.4.1"

v0.10.1
------
 - Change to magnetic variation from runway as magnetic variation should be
   difference from magnetic to true heading
 - fixed EngTorquePercent65KtsTo35FtMin
 - Fixed Eng Stop detection through interpolation
 - Renamed Selected Speed to Airspeed Selected following standardisation of
   parameter name
 - JSON tools: convert Nodes to and from JSON
 - KML: Improved coordinate param fallback code
 - Added local API logging to find file paths
 - Changes to accommodate aircraft with only Latitude (Coarse) and Longitude
   (Coarse) recorded.
 - fix to heading_diff to correct sign of returned value when not passing 0
 - KML: Altitude STD used in preference to AAL
 - KML: Fixed altitude param fallback
 - process_flight: Added verbose option
 - KML: Allow altitude parameter fallback.
 - process_flight: Fixed series and family args
 - Trap for rare error condition in Altitude AAL
 - Fixed derived parameter creation in kml writing
 - Write KML with any lat and lon, improved arguments
 - FlapManoeuvreSpeed: Fix for missing manufacturer attribute
 - Fixed test cases broken by assert_masked_array_almost_equal

v0.9.1
------
 - Fixed Fuel Qty parameter names (L and R)
 - Added FuelQtyWingDifferenceMax derived parameter
 - Takeoff5MinRating now usesTakeoffAccelerationStart
 - Amendment to _qnh_adjust to allow for the fact that the climb and descent
   phases don't start and end at the airfield
 - Fast section does not extrapolate, improved tests
 - FlapLeverSynthetic dependencies reflect mapping
 - Altitude smoothing added for Beech 1900D
 - Changed level_off_index to not bail after first masked data
 - Changed EngGasTempDuringEngStartMax search to 5 mins
 - ZeroFuelWeight changed to derived parameter
 - Align parameters used by APChannelsEngaged
 - Support case when input data is masked
 - Align the AP Engaged arguments
 - Added moving_average to AltitudeSTDSmoothed
 - Fix: V-Vapp wasn't following changing Vapp signal Invalid test case for
   superframe Vapp removed - not seen in LFLs
 - level_off_index will round up sample window sizes.
 - Fix for LastEngStop outside of data.
 - Fixed overflow_correction max_val in a320 test
 - find_toc_tod improved to use frequency in creating the slope


v0.8.1
------
 - fix for APVerticalMode where only flare mode is avaliable
 - added check for valid ils localiser data within approach for ils established
   flight phase
 - improvements to Altitude Radio overflow correction
 - optimisations in second_window()
 - global replacement of assert_almost_equal with
   assert_masked_array_almost_equal in library test and derived parameters
 - added missing "Eng (*) Fuel Flow Max"
 - added B777 Speedbrake Selected algorithm
 - EngStart and EngStop improved to ignore small power dips
 - rudder added as Derived Parameter, based on the three parts of a 777 rudder
 - fuel quantity data is repaired and gaps are smoothed over to create a more
   realistic reading than that of the recorded


v0.7.1
------
 - Velocity Speed Parameters and KPV's reworked
 - Improvements to detection of approaches starting below 3000ft
 - Improvements to TaxiOut, TaxiIn and Taxiing, now only includes before and after Eng Starts and Stop
 - Support for ERJ-170/175 & 190/195 Aircraft Families
 - Support for G-IV Aircraft Families
 - Support for Phemom 300 Aircraft Families
 - Library change - slices_remove_small_gaps now handles slices with None start or stop entries.
 - Library: added new function first_available_parameter()
 - Library: update function first_valid_parameter()
 - Added: AirspeedMinsToTouchdown
 - Added: APU On During Flight Duration
 - Added: DestinationAirport FlightAttributeNode
 - Added: derive parameters and kpvs for aircraft who record torque in percent
 - Added: check to Approach Range to check for valid glideslope data within the regression slice
 - Fix: Compasses initialised either side of North lead to 180deg error
 - Docs: Circular dependency updated
 - Docs: Dependency tree docs update
 - Docs: Autopilot documentation updated


v0.6.5
------
 - Force frequency and offset in GrossWeight to avoid interpolation error

v0.6.4
------
 - Airbus sidestick threshold increased to accommodate aircraft with one bit offsets on the inactive stick.
 - Pilot Flying identification by means of VHF usage removed

v0.6.3
-----
 - Fix to allow takeoff sections to start at the beginning of the data.

v0.6.2
------
 - Fix to flight number determination to ignore zero values.
 - Check for valid glideslope data within regression slice for approach range.

v0.6.1
------
 - Thrust Asymmetry now supports EPR asymmetry as a percentage value.
 - Split Segments splits the average of the normalised engine params (and Groundspeed)
   rather than the minimum of any of the individual params to fix early splits on 
   single engine taxi in.


v0.5.2
------
 - Flap nodes which ignore 'Lever 0' state use string states rather than raw vals
 - TAWS Windshear detects climb as well as approach
 - Alpha floor only detect while Airborne
 - AP Engaged / Disengaged widened phase to Fast rather than Airborne
 - Takeoff and Landing Pilot identification fix for Pilot Flying parameter 
   (currently on Airbus with sidesticks)
 - air_track for fitting lat/long smoothed tracks improved for long distances
 - Approach Range improved for Visual Approaches (no valid Glideslope) for 
   approaches to airports with ILS installed
 - RTO ensures liftoff occurs within 30secs of potential RTO
 - Force Lat/Long to 1Hz for those with lower sample rates


v0.5.1
------

Improvements:
 - Units all use constants defined in FlightDataUtilities repository
 - Headwind improvement to use Airspeed as first dependency to increase hz
 - Pilot Flying (currently for Airbus Sidestick) added for Flight Attributes 
   Takeoff Pilot and Landing Pilot.
 - Split Segments fix for DFC splits where incorrect engine split index was used
 - Gear Extending/Retracting use Gear Selected rather than Red Warnings directly
 - air_track accounts for airspeed calibration errors on really bad aircraft
 - Takeoff and Landing Roll work when no Pitch parameter available (yes, some 
   really bad aircraft!)
 - Groundspeed established from Longitudinal Acceleration within Groundspeed 
   During RTO Max
 - TAWS Alert can_operate method fix
 - Invalidate "Year" parameter before calculate timebase so we use the 
   fallback_dt.year in its place.
 - create_kpvs_within_slices fix to rounding of start and stop edges
 - Improved smoothing of Heading and Altitude for Hercules aircraft
 - bearings_and_distances library routine improved for earth curvature
 - Multiple Go Around KPV improvements
 
Nodes added:
 - "Master Caution" merges multiple signals
 - "Pitch Above 1000 Ft Min" and "Pitch Above 1000 Ft Max"

Nodes removed:
 - Removed "Altitude STD At Lifoff" and "Altitude STD At Touchdown" KPVs
 - Removed "Configuration At Landing" KPV as we rely upon "Flap At Touchdown"
 
 
v0.4.1
------
 - A319, A320, A321 support - Flap Lever (Synthetic), Configuration and Speedbrake
 
Improvements:
 - climb flight phase added to Height Loss KPVs
 - AOA works from just one signal rather than relying on both (A) and (B)
 - Nodes support setting of aliases "hz" and "sample_rate" in place of frequency
 - Overflow correction fix 0.0 now does nothing rather than mask
 - TCAS RA uses recorded TCAS RA parameter (on Airbus) in preference to 
   TCAS Combined Control (on Boeings)
 - Altitude correction for CRJ Alitiude Radio
 - Improve overflow correction for Altitude Radio
 - Split Segments supports GROUND_ONLY when no movement determined on ground
   based upon Heading.
 - FlapAtTouchdown KPVs all use the Flap Angle rather than the Flap Lever
 - process_flight supports stripping of hdf5 derived parameters for reprocessing
 - _value library now returns states (assumes order by that of raw value)
 - Master Warning inhibited when engines not running
 - ILS Established works better with low sample rate data and makes sure the 
   aircraft path converges onto the beam and does not just pass through.
 - Flight Phase "Bottom Of Descent" revised to be more robust
 - Gross Weight at Liftoff and touchdown - catch repair errors where no valid data


v0.3.2
------

 - Fix to thrust_reversers_working indexing (including refactor of 
   clump_multistate)


v0.3.1
------
 - Flap Angle supports more than two signals, including (C) and (MCP) channels
 - Improvements to Top Of Climb (find_toc_tod) and Bottom of Descent (uses just 
   ClimbCruiseDescent) make climbs and descents more robust.
 - ILS Frequency only reports valid frequency if both (1) and (2) channels are 
   recording same frequency.
 - Airspeed with Flap 0 and Slat something.
 - Support for Slat included in Flap Lever (Synthetic) to ensure slat only 
   transitions are included.


v0.2.2
------
 - Fix to nodes to calculate a new offset when aligning to a higher frequency
   to ensure offset does not exceed the time of the first sample


v0.2.1
------
 - Added analyzer profiles
 - Support for CL-600 Aircraft Families
 - Support for A340 Aircraft Families
 - Support for BD-100 Aircraft Families
 - Speedbrake refactoring
 - Added Airbus KPV's
 - Support for ground runs
 - Support for slat stepping
 - Clip replaced with second_window
  - Improves speed
  - Corrects truncation of adjacent peaks

  
v0.1.1
------

 - Numerous improvements


v0.0.6
-----

 - Support for Beechcraft 1900D.
 - Improved liftoff detection algorithm.


v0.0.2
-----

 - Support for B757 / B767.


v0.0.1
------

 - Initial release directed at B737.

